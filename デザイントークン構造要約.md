# VALUE BOOKS デザイントークン構造要約

## 概要

このドキュメントは、VALUE BOOKS Design Library の Figma 変数構造、特に **brand**・**alias**・**mapped** コレクション間の接続関係を要約したものです。

**重要**: このドキュメントは、Figma MCPツールを使用して実際のFigmaファイルから変数情報を取得し、作成されています。取得した変数には、カラー変数（Brand Color、Service Color、Text & Icon Colors、Background Color、Error & FocusColor、Accent Color）とタイポグラフィ変数（Title、Body、Button）が含まれています。ただし、これらの変数がどのコレクション（brand・alias・mapped）に属しているか、およびそれらの接続関係については、Figmaファイル内の変数パネルで直接確認する必要があります。

## コレクション構造

| コレクション名 | 用途 | 接続関係 | 備考 |
|---|---|---|---|
| **brand** | ブランドの根幹となる色・タイポグラフィ・スペースなどの基準値 | → alias コレクション（alias が brand を参照） | 最も変更が少ない・ブランドアイデンティティの核となる値 |
| **alias** | ブランド基準値を取り込んで、利用シーン別に意味のある名前をつけたトークン | brand を参照 ←；→ mapped コレクション（mapped が alias を参照） | UI コンポーネントやテーマで使いやすく・直感的な名前付け |
| **mapped** | alias のトークンをさらに環境・テーマ（例：ライト／ダーク）、コンポーネント別・状態別などにマッピング | alias を参照 ←；場合によっては直接 brand を参照することも | 実際のコンポーネント設計に即した形で使われるトークン群 |

## 接続関係の構造図

```
brand (基準値)
  │
  └─> alias (意味的な名前付け)
        │
        └─> mapped (テーマ・状態・コンポーネント別のマッピング)
```

## 各コレクションの詳細

### 1. brand コレクション

**役割**: ブランドのコアとなる色・タイポグラフィ・スペースなどの基準値を定義

**特徴**:
- 最も変更頻度が低い
- ブランドアイデンティティの核となる値
- 他のコレクションから参照される基準値

**実際のトークン（Figmaファイルから取得）**:

#### アイコンライブラリ
- **Material Design Icons (MDI)**: https://pictogrammers.com/library/mdi/
  - アイコンは基本的にMDIから使用

#### コンポーネントフレームワーク
- **Vuetify**: https://vuetifyjs.com/ja/
  - コンポーネントは基本的にVuetifyのものを使用

#### カラー変数
- **Brand Color/VB Teal**: `#009098` - ブランドの基幹色（VB Teal）
- **Service Color/Sell Blue**: `#0095D9` - サービス色（売却用ブルー）
- **Service Color/Library Green**: `#00475A` - サービス色（図書館グリーン）
- **Service Color/Buy Orange**: `#A0330A` - サービス色（購入用オレンジ）
- **Error & FocusColor/VB Red**: `#DD0022` - エラー・フォーカス色（VB レッド）
- **Text & Icon Colors/Primary text/Gray500**: `#2C2C2C` - 主要テキスト色（グレー500）
- **Text & Icon Colors/Secondary text/Gray300**: `#6E6E6E` - 補助テキスト色（グレー300）
- **Text & Icon Colors/White**: `#FFFFFF` - 白
- **Background Color/Gray100**: `#CACACA` - 背景色（グレー100）
- **Color/Background Color/Gray50**: `#F5F5F5` - 背景色（グレー50）

#### タイポグラフィ変数
- **Title/H1**: `Font(family: "Hiragino Sans", style: W6, size: 32, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Title/H2**: `Font(family: "Hiragino Sans", style: W6, size: 28, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Title/H3**: `Font(family: "Hiragino Sans", style: W6, size: 24, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Title/H4**: `Font(family: "Hiragino Sans", style: W6, size: 20, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Title/subtitle1**: `Font(family: "Hiragino Sans", style: W6, size: 16, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Title/subtitle2**: `Font(family: "Hiragino Sans", style: W6, size: 14, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Title/subtitle3**: `Font(family: "Hiragino Sans", style: W6, size: 12, weight: 600, lineHeight: 1.399999976158142, letterSpacing: 0)`
- **Body/Body1**: `Font(family: "Hiragino Sans", style: W3, size: 16, weight: 300, lineHeight: 1.5, letterSpacing: 0)`
- **Body/Body2**: `Font(family: "Hiragino Sans", style: W3, size: 14, weight: 300, lineHeight: 1.5, letterSpacing: 0)`
- **Body/Caption1**: `Font(family: "Hiragino Sans", style: W3, size: 12, weight: 300, lineHeight: 1.5, letterSpacing: 0)`
- **Body/Caption2**: `Font(family: "Hiragino Sans", style: W3, size: 10, weight: 300, lineHeight: 1.5, letterSpacing: 0)`
- **Button/Button1**: `Font(family: "Hiragino Sans", style: W6, size: 16, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Button/Button2**: `Font(family: "Hiragino Sans", style: W6, size: 14, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Button/Button3**: `Font(family: "Hiragino Sans", style: W6, size: 12, weight: 600, lineHeight: 1.399999976158142, letterSpacing: 0)`
- **Button/Text Link1**: `Font(family: "Hiragino Sans", style: W6, size: 14, weight: 600, lineHeight: 1.5, letterSpacing: 0)`
- **Button/Text Link2**: `Font(family: "Hiragino Sans", style: W6, size: 12, weight: 600, lineHeight: 1.399999976158142, letterSpacing: 0)`

### 2. alias コレクション

**役割**: brand の値を基に、利用目的に応じてわかりやすい名前を付けたトークン

**特徴**:
- brand コレクションの値を参照
- UI コンポーネントやテーマで使いやすい命名
- 意味的・機能的に理解しやすい名前付け

**想定される接続関係**:
- `Text & Icon Colors/Primary text/Gray500` → brand の `Gray500` を参照
- `Text & Icon Colors/Secondary text/Gray300` → brand の `Gray300` を参照
- `Background Color/Gray50` → brand の `Gray50` を参照
- `Brand Color/VB Teal` → brand の基幹色を参照
- `Service Color/Sell Blue` → brand のサービス色を参照
- `Service Color/Library Green` → brand のサービス色を参照
- `Error & FocusColor/VB Red` → brand のエラー色を参照

### 3. mapped コレクション

**役割**: alias のトークンをさらに環境・テーマ・コンポーネント別・状態別などにマッピング

**特徴**:
- alias コレクションの値を参照（原則）
- 必要に応じて brand を直接参照することもある
- 実際のコンポーネント設計に即した形で使用

**想定される接続関係**:
- コンポーネント別のマッピング（例：Button、Text Link など）
- 状態別のマッピング（例：hover、active、disabled など）
- テーマ別のマッピング（例：light、dark など）

## 変数構造の詳細

### 変数名の階層構造

Figmaファイルから取得した変数は、以下のような階層構造を持っています：

#### カラー変数の階層構造と値

| カテゴリ | 変数名 | 値 | 用途 |
|---|---|---|---|
| **Brand Color** | VB Teal | `#009098` | ブランドの基幹色 |
| **Service Color** | Sell Blue | `#0095D9` | サービス色（売却用） |
| | Buy Orange | `#A0330A` | サービス色（購入用） |
| | Library Green | `#00475A` | サービス色（図書館用） |
| **Text & Icon Colors** | Primary text/Gray500 | `#2C2C2C` | 主要テキスト色 |
| | Secondary text/Gray300 | `#6E6E6E` | 補助テキスト色 |
| | White | `#FFFFFF` | 白（テキスト・アイコン用） |
| **Background Color** | Gray50 | `#F5F5F5` | 背景色（ライトグレー） |
| | Gray100 | `#CACACA` | 背景色（ミディアムグレー） |
| | VB Cream | `#F7F5EB` | 背景色（クリーム） |
| **Error & FocusColor** | VB Red | `#DD0022` | エラー・フォーカス色 |
| **Accent Color** | VB Yellow | `#F0D03D` | アクセント色 |

**注**: カラーパレットには、VB Teal のグラデーション（Teal 50, 100, 200, 300, 400, 500）や、Gray スケール（Gray50, 100, 200, 300, 400, 500）も存在しますが、変数として明示的に定義されているものは上記の通りです。

#### タイポグラフィ変数の階層構造と値

| カテゴリ | 変数名 | サイズ | ウェイト | スタイル | 行間 | 用途 |
|---|---|---|---|---|---|---|
| **Title** | H1 | 32px | 600 (Bold) | W6 | 1.5 | 見出し1 |
| | H2 | 28px | 600 (Bold) | W6 | 1.5 | 見出し2 |
| | H3 | 24px | 600 (Bold) | W6 | 1.5 | 見出し3 |
| | H4 | 20px | 600 (Bold) | W6 | 1.5 | 見出し4 |
| | subtitle1 | 16px | 600 (Bold) | W6 | 1.5 | サブタイトル1 |
| | subtitle2 | 14px | 600 (Bold) | W6 | 1.5 | サブタイトル2 |
| | subtitle3 | 12px | 600 (Bold) | W6 | 1.4 | サブタイトル3 |
| **Body** | Body1 | 16px | 300 (Regular) | W3 | 1.5 | 本文1 |
| | Body2 | 14px | 300 (Regular) | W3 | 1.5 | 本文2 |
| | Caption1 | 12px | 300 (Regular) | W3 | 1.5 | キャプション1 |
| | Caption2 | 10px | 300 (Regular) | W3 | 1.5 | キャプション2 |
| **Button** | Button1 | 16px | 600 (Bold) | W6 | 1.5 | ボタン1 |
| | Button2 | 14px | 600 (Bold) | W6 | 1.5 | ボタン2 |
| | Button3 | 12px | 600 (Bold) | W6 | 1.4 | ボタン3 |
| | Text Link1 | 14px | 600 (Bold) | W6 | 1.5 | テキストリンク1 |
| | Text Link2 | 12px | 600 (Bold) | W6 | 1.4 | テキストリンク2 |

**フォントファミリー**: すべてのタイポグラフィ変数は `Hiragino Sans` を使用
**文字間隔**: すべての変数で `0`（デフォルト）

### 変数の命名規則

1. **カテゴリ/サブカテゴリ/値** の3階層構造
   - 例: `Text & Icon Colors/Primary text/Gray500`
2. **機能別の分類**
   - Brand Color: ブランドの基幹色
   - Service Color: サービス固有の色
   - Text & Icon Colors: テキストとアイコン用の色
   - Background Color: 背景色
   - Error & FocusColor: エラー・フォーカス色
   - Accent Color: アクセント色
3. **タイポグラフィの分類**
   - Title: 見出し系
   - Body: 本文系
   - Button: ボタン・リンク系

## 接続ポイントの確認事項

### 1. alias と brand の接続

- [ ] alias のトークンが必ず brand の定義値を参照しているか
- [ ] alias が brand から直接参照していない値（独立した値）を持っていないか
- [ ] すべての alias トークンが適切な brand トークンに接続されているか

### 2. mapped と alias の接続

- [ ] mapped のトークンが原則として alias を参照しているか
- [ ] mapped が brand を直接参照している場合、その理由が明確か
- [ ] テーマやモード切替（例：light/dark）が mapped の中で整然と整理されているか

### 3. 命名規則と一貫性

- [ ] alias や mapped に重複や衝突する名前がないか
- [ ] 同一意味で異なる名前がないか（混乱の原因となる）
- [ ] 命名規則が一貫しているか

### 4. テーマ・モード管理

- [ ] ライト/ダークテーマの切り替えが mapped で適切に管理されているか
- [ ] alias の値を override する形で mapped を設定しているか
- [ ] テーマ間での一貫性が保たれているか

## ベストプラクティス

1. **一方向の参照フロー**: brand → alias → mapped の順で参照する
2. **直接参照の最小化**: mapped は原則として alias を参照し、brand を直接参照しない
3. **意味的な命名**: alias では「何のための値か」が分かる名前を使用
4. **状態の明確化**: mapped では状態（hover、active、disabled など）を明確に表現

## 確認方法

Figma ファイル内で以下の手順で確認できます：

1. **変数パネルを開く**: Figma の右側パネルで「変数」タブを選択
2. **コレクションを確認**: brand、alias、mapped の各コレクションを確認
3. **参照関係を確認**: 各トークンをクリックして、参照元（参照先）を確認
4. **接続ポイントを確認**: alias が brand を参照しているか、mapped が alias を参照しているかを確認

## 注意事項

- このドキュメントは、Figma MCPツールを使用して実際のFigmaファイル（VALUE-BOOKS Design Library）から取得した変数情報に基づいて作成されています
- 変数の値と名前は、Figmaファイルから直接取得したものです
- **brand・alias・mapped コレクション間の接続関係**については、Figmaの変数パネルで直接確認する必要があります
  - 変数定義の取得結果からは、変数名と値は確認できましたが、コレクション名と参照関係は明示的に取得できませんでした
  - 実際の接続関係を確認するには、Figmaファイル内の変数パネルで各変数の参照先を確認してください

## 次のステップ

1. **Figmaファイル内で変数パネルを開く**
   - 右側パネルの「変数」タブを選択
   - brand、alias、mapped の各コレクションを確認

2. **接続関係の確認**
   - 各トークンをクリックして、参照元（参照先）を確認
   - alias が brand を参照しているか確認
   - mapped が alias を参照しているか確認

3. **接続ポイントの検証**
   - 上記の「接続ポイントの確認事項」に基づいて、実際の接続関係を検証
   - 必要に応じて、このドキュメントを更新

---

**最終更新日**: 2024年（Figma MCPツールで取得）
**取得元**: Figmaファイル `6pMPgH48np0uappqLqv1pK` (VALUE-BOOKS Design Library)
**取得方法**: Figma MCPツール（`get_variable_defs`, `get_design_context`, `get_metadata`）
